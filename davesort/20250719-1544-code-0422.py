\ndef main_loop():\n    print(\"[JEMAI] Ready for upgrades and commands.\")\n    if os.environ.get(\"JEMAI_UPGRADE_TEST\") == \"1\":\n        print(\"JEMAI SMOKETEST OK\")\n        return\n    while True:\n        try:\n            print(\"\\nPaste your code or type a command. End with Ctrl-D (or Ctrl-Z+Enter on Windows):\")\n            new = sys.stdin.read()\n            if new.strip().startswith(\"import \"):\n                jemai_upgrade_try(new)\n            elif new.strip():\n                print(\"Type (or paste) code to upgrade me, or type exit to quit.\")\n        except (KeyboardInterrupt, EOFError):\n            print(\"\\nBye!\")\n            break\n