\njemai_core:\n  build:\n    context: .\n    dockerfile: Dockerfile\n  container_name: jemai_prod_core\n  ports:\n    - \"5000:5000\"    # JEM AI Shell UI\n    - \"5678:5678\"    # VSCode Debugger Port\n  extra_hosts:\n    - \"host.docker.internal:host-gateway\"\n  volumes:\n    - \".:/app\"         # Mounts the source code for LIVE EDITING\n    - \"/var/run/docker.sock:/var/run/docker.sock\" # Allows control over Docker\n    - \"${PROD_RAG_DATA_DIR}:/app/rag/chroma_data\" # Mounts the RAG memory\n  depends_on:\n    - ollama           # Ensures Ollama starts before the core brain\n  restart: unless-stopped\n  environment:\n    - OLLAMA_HOST=http://jemai_prod_ollama:11434\n    - TZ=Australia/Perth\n  command: python3 -m debugpy --listen 0.0.0.0:5678 --wait-for-client jemai_core.py\n