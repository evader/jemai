socket.on('jobs_list_update', (allJobs) => {
                for (const jobId in allJobs) {
                    const jobData = allJobs[jobId];
                    // Correctly update previous job entries using correct fields
                    updateJobUI(jobId, jobData.command, (jobData.mode || (jobData.command.includes('Synapz (Online)') ? 'synapz-cloud-ai' : (jobData.output && jobData.output.includes('Generated command') ? 'local-ai' : 'direct'))), jobData.status, jobData.output); 
                    
                    // Re-enable controls if this *latest* job to be updated is complete or error
                    if (jobData.status === 'complete' || jobData.status === 'error') {
                        setControlsDisabled(false);
                    }
                }
            });