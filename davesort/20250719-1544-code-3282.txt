\n#!/bin/bash\n\n# Install NGINX if not present\necho \"Installing NGINX...\"\nsudo apt update\nsudo apt install nginx -y\n\n# NGINX Configuration to redirect traffic to Portainer, WebUI, etc.\necho \"Setting up NGINX configuration...\"\nsudo cat <<EOF > /etc/nginx/sites-available/jemai.local\nserver {\n    listen 80;\n    server_name jemai.local;\n\n    location / {\n        proxy_pass http://localhost:3000;  # Open WebUI\n        proxy_set_header Host \\$host;\n        proxy_set_header X-Real-IP \\$remote_addr;\n        proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto \\$scheme;\n    }\n\n    location /portainer {\n        proxy_pass http://localhost:9000;  # Portainer UI\n        proxy_set_header Host \\$host;\n        proxy_set_header X-Real-IP \\$remote_addr;\n        proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto \\$scheme;\n    }\n\n    location /vscode {\n        proxy_pass http://localhost:8080;  # VS Code Server\n        proxy_set_header Host \\$host;\n        proxy_set_header X-Real-IP \\$remote_addr;\n        proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto \\$scheme;\n    }\n}\nEOF\n\n# Enable site and restart NGINX\necho \"Enabling jemai.local site...\"\nsudo ln -s /etc/nginx/sites-available/jemai.local /etc/nginx/sites-enabled/\nsudo systemctl restart nginx\n\n# Make jemai.local available by editing hosts file\necho \"Configuring jemai.local...\"\necho \"127.0.0.1 jemai.local\" | sudo tee -a /etc/hosts\n\necho \"NGINX and Portainer integration complete. Access jemai.local in your browser!\"\n