\nimport json\ndef chatgpt_parser(filepath):\n    if not filepath.endswith(\"conversations.json\"):\n        return []\n    with open(filepath, \"r\", encoding=\"utf-8\") as f:\n        data = json.load(f)\n    conversations = []\n    for conv in data.get(\"conversations\", []):\n        title = conv.get(\"title\") or \"ChatGPT Conversation\"\n        messages = [msg.get(\"content\", \"\") for msg in conv.get(\"mapping\", {}).values() if msg.get(\"content\")]\n        whole = \"\\n\\n\".join(messages)\n        conversations.append({\n            \"source\": \"chatgpt\",\n            \"title\": title,\n            \"text\": whole,\n            \"date\": conv.get(\"create_time\") or \"\",\n            \"metadata\": {\"id\": conv.get(\"id\")}\n        })\n    return conversations\n\ndef register(register_parser):\n    register_parser(chatgpt_parser)\n