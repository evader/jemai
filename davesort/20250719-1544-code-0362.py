\n#!/usr/bin/env python3\nimport os, sys, shlex, subprocess, readline\nimport requests\n\ndef is_shell_cmd(cmd):\n    return cmd.split()[0] in (\"ls\", \"cat\", \"cd\", \"echo\", \"rm\", \"cp\", \"mv\", \"pwd\", \"touch\", \"grep\")\n\ndef call_synapz(msg):\n    try:\n        resp = requests.post(\"http://localhost:6000/ai\", json={\"prompt\": msg})\n        return resp.json()[\"response\"]\n    except Exception as e:\n        return f\"[SYNAPZ ERROR] {e}\"\n\ndef main():\n    print(\"== JEMAI AI SHELL + SYNAPZ ==\")\n    while True:\n        try:\n            inp = input(\"> \").strip()\n            if not inp: continue\n            if is_shell_cmd(inp) or inp.startswith(\"sudo\"):\n                try:\n                    out = subprocess.check_output(shlex.split(inp), stderr=subprocess.STDOUT)\n                    print(out.decode())\n                except Exception as e:\n                    print(f\"[SHELL ERROR] {e}\")\n            elif inp.startswith(\"read \"):\n                fname = inp[5:].strip()\n                try:\n                    print(open(fname).read())\n                except Exception as e:\n                    print(f\"[READ ERROR] {e}\")\n            elif inp.startswith(\"write \"):\n                fname = inp[6:].strip()\n                print(\"Paste content, then Ctrl-D:\")\n                content = sys.stdin.read()\n                with open(fname, \"w\") as f:\n                    f.write(content)\n                print(f\"Wrote {fname}\")\n            else:\n                print(call_synapz(inp))\n        except (EOFError, KeyboardInterrupt):\n            print(\"\\n[Bye!]\")\n            break\n\nif __name__ == \"__main__\":\n    main()\n