\n   # -- Increase smoke test timeout to 20 seconds --\n   import os, sys, shutil, datetime, subprocess\n   VERSIONS_DIR = os.path.expanduser(\"~/.jemai_versions\")\n   SELF_PATH = os.path.abspath(__file__)\n   def smoke_test(new_code):\n       test_path = os.path.join(VERSIONS_DIR, \"jemai_test.py\")\n       with open(test_path, \"w\") as f:\n           f.write(new_code)\n       try:\n           output = subprocess.check_output(\n               [sys.executable, test_path, \"--smoketest\"],\n               stderr=subprocess.STDOUT, timeout=20  # <-- INCREASED TIMEOUT!\n           )\n           return True, output.decode(errors=\"replace\")\n       except Exception as e:\n           return False, f\"{type(e).__name__}: {e}\"\n   print(\"[JEMAI] Patched smoke_test timeout to 20s. Paste next upgrade!\")\n