\ncat <<'EOF' > ~/fix_ollama_models.sh\n#!/bin/bash\nset -e\n\necho \"[1/5] Stopping and removing ALL ollama containers...\"\ndocker ps -a --filter \"ancestor=ollama/ollama:latest\" -q | xargs -r docker rm -f || true\ndocker ps -a --filter \"name=ollama\" -q | xargs -r docker rm -f || true\n\necho \"[2/5] Searching for all Docker volumes containing Ollama models...\"\nOLLAMA_TARGET=\"/var/lib/docker/volumes/ollama/_data\"\nsudo mkdir -p \"$OLLAMA_TARGET\"\nsudo chmod 777 \"$OLLAMA_TARGET\"\n\n# Find all other volumes with 'ollama' in name (besides canonical 'ollama')\nvols=$(docker volume ls -q | grep ollama | grep -v '^ollama$' || true)\nfor vol in $vols; do\n  vol_path=\"/var/lib/docker/volumes/${vol}/_data\"\n  if [ -d \"$vol_path\" ]; then\n    echo \"[INFO] Copying models from $vol_path ...\"\n    sudo cp -ar \"$vol_path/.\" \"$OLLAMA_TARGET/\" || true\n  fi\ndone\n\necho \"[3/5] Launching fresh Ollama container using canonical volume...\"\ndocker run -d \\\n  --name ollama \\\n  --restart always \\\n  -p 11434:11434 \\\n  -v ollama:/root/.ollama \\\n  ollama/ollama:latest\n\necho \"[4/5] Waiting for Ollama to start...\"\nsleep 5\n\necho \"[5/5] Listing available models:\"\nollama list || echo \"[WARN] If no models show up, try: 'sudo systemctl restart ollama'\"\n\necho \"[DONE] You can now use Open WebUI and 'ollama' as normal.\"\nEOF\n\nchmod +x ~/fix_ollama_models.sh\necho \"[READY] Run with:  bash ~/fix_ollama_models.sh\"\n