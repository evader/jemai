async function handleExecute(mode) {
        const inputValue = commandInput.value.trim();
        if (!inputValue) return;
        const originalPrompt = inputValue; // <--- ADDED THIS LINE (copies value before clearing)
        setControlsDisabled(true);
        commandInput.value = ''; // Clear input immediately
        commandInput.focus();
        const jobId = generateJobId();
        let initialOutput = `--- Sending command to JEM AI: '${originalPrompt}' via ${mode} mode ---`; // Uses originalPrompt
        updateJobUI(jobId, originalPrompt, mode, 'thinking', initialOutput); // Uses originalPrompt
        // ... rest ...
    }