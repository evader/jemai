\nfrom flask import Flask, request, jsonify\nimport subprocess, os\n\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef index():\n    return \"Synapz Shell Agent alive! (POST /cmd to run commands)\"\n\n@app.route(\"/cmd\", methods=[\"POST\"])\ndef cmd():\n    data = request.json\n    command = data.get(\"command\", \"\")\n    if not command:\n        return jsonify({\"ok\": False, \"error\": \"No command\"})\n    try:\n        output = subprocess.check_output(command, shell=True, stderr=subprocess.STDOUT, timeout=20).decode()\n        return jsonify({\"ok\": True, \"output\": output})\n    except Exception as e:\n        return jsonify({\"ok\": False, \"error\": str(e)})\n    \n@app.route(\"/heal\", methods=[\"POST\"])\ndef heal():\n    # Dumb self-heal: Fix Ollama perms\n    try:\n        os.system(\"chown -R 1000:1000 /models\")\n        os.system(\"chmod -R 770 /models\")\n        return jsonify({\"ok\": True, \"output\": \"Ollama model perms healed\"})\n    except Exception as e:\n        return jsonify({\"ok\": False, \"error\": str(e)})\n\nif __name__ == \"__main__\":\n    app.run(host=\"0.0.0.0\", port=6010)\n